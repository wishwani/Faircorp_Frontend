{"remainingRequest":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/babel-loader/lib/index.js!/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/RoomsListItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/RoomsListItem.vue","mtime":1668203009207},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/babel.config.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/babel-loader/lib/index.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1640706934000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zYXRoaXNoLmJvd2F0dGEvRG9jdW1lbnRzL0ZhaXJjb3JwX0Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IEFQSV9IT1NUIH0gZnJvbSAiLi4vY29uZmlnIjsKaW1wb3J0IFdpbmRvd3NMaXN0SXRlbSBmcm9tICIuL1dpbmRvd3NMaXN0SXRlbSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBXaW5kb3dzTGlzdEl0ZW06IFdpbmRvd3NMaXN0SXRlbQogIH0sCiAgbmFtZTogIlJvb21zTGlzdEl0ZW0iLAogIHByb3BzOiBbInJvb20iXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFeHBhbmRlZDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVFeHBhbmQ6IGZ1bmN0aW9uIHRvZ2dsZUV4cGFuZCgpIHsKICAgICAgdGhpcy5pc0V4cGFuZGVkID0gIXRoaXMuaXNFeHBhbmRlZDsKICAgIH0sCiAgICBkZWxldGVSb29tOiBmdW5jdGlvbiBkZWxldGVSb29tKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3NbImRlbGV0ZSJdKCIiLmNvbmNhdChBUElfSE9TVCwgIi9hcGkvcm9vbXMvIikuY29uY2F0KF90aGlzLnJvb20uaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJyb29tLWRlbGV0ZWQiLCBfdGhpcy5yb29tLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN3aXRjaFdpbmRvd3M6IGZ1bmN0aW9uIHN3aXRjaFdpbmRvd3MoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCIiLmNvbmNhdChBUElfSE9TVCwgIi9hcGkvcm9vbXMvIikuY29uY2F0KF90aGlzMi5yb29tLmlkLCAiL3N3aXRjaFdpbmRvdyIpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5yb29tLm5hbWUpOwogICAgICAgICAgICAgICAgZGVidWdnZXI7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCJyb29tLXVwZGF0ZWQiLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3dpdGNoSGVhdGVyczogZnVuY3Rpb24gc3dpdGNoSGVhdGVycygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoIiIuY29uY2F0KEFQSV9IT1NULCAiL2FwaS9yb29tcy8iKS5jb25jYXQoX3RoaXMzLnJvb20uaWQsICIvc3dpdGNoSGVhdGVyIikpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzMy4kZW1pdCgicm9vbS11cGRhdGVkIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZVdpbmRvdzogZnVuY3Rpb24gdXBkYXRlV2luZG93KG5ld1dpbmRvdykgewogICAgICAvKiBGaW5kIHRoZSBwbGFjZSBvZiB3aW5kb3cgb2JqZWN0IHdpdGggdGhlIHNhbWUgSWQgaW4gdGhlIGFycmF5LCBhbmQgcmVwbGFjZSBpdCAqLwogICAgICB2YXIgaW5kZXggPSB0aGlzLnJvb20ud2luZG93TGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKHdpbmRvdykgewogICAgICAgIHJldHVybiB3aW5kb3cuaWQgPT09IG5ld1dpbmRvdy5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMucm9vbS53aW5kb3dMaXN0LnNwbGljZShpbmRleCwgMSwgbmV3V2luZG93KTsKICAgIH0sCiAgICBkZWxldGVXaW5kb3c6IGZ1bmN0aW9uIGRlbGV0ZVdpbmRvdyh3aW5kb3dJZCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLnJvb20ud2luZG93TGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKHdpbmRvdykgewogICAgICAgIHJldHVybiB3aW5kb3cuaWQgPT09IHdpbmRvd0lkOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgdGhpcy5yb29tLndpbmRvd0xpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/RoomsListItem.vue"],"names":[],"mappings":";;;;;;AA2FA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,QAAT,QAAyB,WAAzB;AACA,OAAO,eAAP,MAA4B,mBAA5B;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,eAAe,EAAf;AADU,GADC;AAIb,EAAA,IAAI,EAAE,eAJO;AAKb,EAAA,KAAK,EAAE,CAAC,MAAD,CALM;AAMb,EAAA,IAAI,EAAE,gBAAY;AAChB,WAAO;AACL,MAAA,UAAU,EAAE;AADP,KAAP;AAGD,GAVY;AAWb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACQ;AACb,WAAK,UAAL,GAAkB,CAAC,KAAK,UAAxB;AACD,KAHM;AAID,IAAA,UAJC,wBAIY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACI,KAAK,UAAL,WAChB,QADgB,wBACM,KAAI,CAAC,IAAL,CAAU,EADhB,EADJ;;AAAA;AACb,gBAAA,QADa;;AAIjB,gBAAA,KAAI,CAAC,KAAL,CAAW,cAAX,EAA2B,KAAI,CAAC,IAAL,CAAU,EAArC;;AAJiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKlB,KATM;AAUD,IAAA,aAVC,2BAUe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACC,KAAK,CAAC,GAAN,WAChB,QADgB,wBACM,MAAI,CAAC,IAAL,CAAU,EADhB,mBADD;;AAAA;AAChB,gBAAA,QADgB;AAItB,gBAAA,OAAO,CAAC,GAAR,CAAY,MAAI,CAAC,IAAL,CAAU,IAAtB;AACA;;AACE,gBAAA,MAAI,CAAC,KAAL,CAAW,cAAX,EAA2B,QAAQ,CAAC,IAApC;;AANoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOrB,KAjBM;AAkBD,IAAA,aAlBC,2BAkBe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACC,KAAK,CAAC,GAAN,WAChB,QADgB,wBACM,MAAI,CAAC,IAAL,CAAU,EADhB,mBADD;;AAAA;AAChB,gBAAA,QADgB;;AAIpB,gBAAA,MAAI,CAAC,KAAL,CAAW,cAAX,EAA2B,QAAQ,CAAC,IAApC;;AAJoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKrB,KAvBM;AAwBP,IAAA,YAxBO,wBAwBM,SAxBN,EAwBiB;AACtB;AACA,UAAI,KAAI,GAAI,KAAK,IAAL,CAAU,UAAV,CAAqB,SAArB,CACV,UAAC,MAAD;AAAA,eAAY,MAAM,CAAC,EAAP,KAAc,SAAS,CAAC,EAApC;AAAA,OADU,CAAZ;AAGA,WAAK,IAAL,CAAU,UAAV,CAAqB,MAArB,CAA4B,KAA5B,EAAmC,CAAnC,EAAsC,SAAtC;AACD,KA9BM;AA+BP,IAAA,YA/BO,wBA+BM,QA/BN,EA+BgB;AACrB,UAAI,KAAI,GAAI,KAAK,IAAL,CAAU,UAAV,CAAqB,SAArB,CACV,UAAC,MAAD;AAAA,eAAY,MAAM,CAAC,EAAP,KAAc,QAA1B;AAAA,OADU,CAAZ;;AAGA,UAAI,KAAI,GAAI,CAAC,CAAb,EAAgB;AACd,aAAK,IAAL,CAAU,UAAV,CAAqB,MAArB,CAA4B,KAA5B,EAAmC,CAAnC;AACF;AACD;AAtCM;AAXI,CAAf","sourcesContent":["<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h2 class=\"mb-0\">\n        <button\n          class=\"btn btn-block text-left d-flex flex-column flex-sm-row\"\n          type=\"button\"\n          @click=\"toggleExpand\"\n        >\n          <div class=\"mr-2\">\n            <strong>\n              {{ room.name }}\n            </strong>\n          </div>\n          <div\n            v-if=\"room.currentTemperature != null\"\n            class=\"room-name text-muted pe-3 mx-2\"\n          >\n            Current Temperature : {{ room.currentTemperature }}\n          </div>\n          <div\n            v-if=\"room.targetTemperature != null\"\n            class=\"room-name text-muted pe-3 mx-2\"\n          >\n            Target Temperature : {{ room.targetTemperature }}\n          </div>\n\n          <div class=\"expand-button ml-auto\">\n            {{ isExpanded ? \"&#9660;\" : \"&#9658;\" }}\n          </div>\n        </button>\n      </h2>\n    </div>\n\n    <template class=\"collapse show\" v-if=\"isExpanded\">\n      <div class=\"card-body\">\n        <div class=\"room-info mb-3\">\n          <div class=\"room-name text-muted pe-3\">ID : {{ room.id }}</div>\n          <div class=\"room-name text-muted pe-3\">\n            Building : {{ room.buildingName }}\n          </div>\n          <div class=\"room-name text-muted pe-3\">Floor : {{ room.floor }}</div>\n          <div\n            v-if=\"room.currentTemperature != null\"\n            class=\"room-name text-muted pe-3\"\n          >\n            Current Temperature : {{ room.currentTemperature }}\n          </div>\n          <div\n            v-if=\"room.targetTemperature != null\"\n            class=\"room-name text-muted pe-3\"\n          >\n            Target Temperature : {{ room.targetTemperature }}\n          </div>\n        </div>\n        <div class=\"details d-flex justify-content-center\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary me-2 mr-3\"\n            @click=\"switchWindows\"\n          >\n            Switch Windows\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary me-2 mr-3\"\n            @click=\"switchHeaters\"\n          >\n            Switch Heaters\n          </button>\n          <button type=\"button\" class=\"btn btn-danger me-2\" @click=\"deleteRoom\">\n            Delete Room\n          </button>\n        </div>\n        <div class=\"windows-list mt-4\">\n          <windows-list-item\n            v-for=\"window in room.windowList\"\n            :window=\"window\"\n            :key=\"window.id\"\n            :room=\"room\"\n            @window-updated=\"updateWindow\"\n            @window-deleted=\"deleteWindow\"\n          >\n          </windows-list-item>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { API_HOST } from \"../config\";\nimport WindowsListItem from \"./WindowsListItem\";\n\nexport default {\n  components: {\n    WindowsListItem,\n  },\n  name: \"RoomsListItem\",\n  props: [\"room\"],\n  data: function () {\n    return {\n      isExpanded: false,\n    };\n  },\n  methods: {\n    toggleExpand() {\n      this.isExpanded = !this.isExpanded;\n    },\n    async deleteRoom() {\n      let response = await axios.delete(\n        `${API_HOST}/api/rooms/${this.room.id}`\n      );\n      this.$emit(\"room-deleted\", this.room.id);\n    },\n    async switchWindows() {\n      let response = await axios.put(\n        `${API_HOST}/api/rooms/${this.room.id}/switchWindow`\n      );\n    console.log(this.room.name);\n    debugger;\n      this.$emit(\"room-updated\", response.data);\n    },\n    async switchHeaters() {\n      let response = await axios.put(\n        `${API_HOST}/api/rooms/${this.room.id}/switchHeater`\n      );\n      this.$emit(\"room-updated\", response.data);\n    },\n    updateWindow(newWindow) {\n      /* Find the place of window object with the same Id in the array, and replace it */\n      let index = this.room.windowList.findIndex(\n        (window) => window.id === newWindow.id\n      );\n      this.room.windowList.splice(index, 1, newWindow);\n    },\n    deleteWindow(windowId) {\n      let index = this.room.windowList.findIndex(\n        (window) => window.id === windowId\n      );\n      if (index > -1) {\n        this.room.windowList.splice(index, 1);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.room {\n  .top-row {\n    cursor: pointer;\n  }\n}\n</style>\n"],"sourceRoot":""}]}