{"remainingRequest":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/babel-loader/lib/index.js!/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/HeaterNew.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/HeaterNew.vue","mtime":1668516473003},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/babel.config.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/babel-loader/lib/index.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1640706934000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zYXRoaXNoLmJvd2F0dGEvRG9jdW1lbnRzL0ZhaXJjb3JwX0Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBBUElfSE9TVCB9IGZyb20gIi4uL2NvbmZpZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSGVhdGVyTmV3IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFeHBhbmRlZDogZmFsc2UsCiAgICAgIGhlYXRlcl9uYW1lOiAiIiwKICAgICAgaGVhdGVyX3Bvd2VyOiAiIiwKICAgICAgaGVhdGVyX3N0YXR1czogIk9GRiIsCiAgICAgIGhlYXRlcl9yb29tOiAiIiwKICAgICAgcm9vbXM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9jcmVhdGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzcG9uc2UsIHJvb21zOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQoQVBJX0hPU1QsICIvYXBpL3Jvb21zIikpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByb29tcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgdGhpcy5yb29tcyA9IHJvb21zOwogICAgICAgICAgICAgIHRoaXMuaGVhdGVyX3Jvb20gPSByb29tc1swXTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgcmV0dXJuIF9jcmVhdGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIGNyZWF0ZWQ7CiAgfSgpLAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZUV4cGFuZDogZnVuY3Rpb24gdG9nZ2xlRXhwYW5kKCkgewogICAgICB0aGlzLmlzRXhwYW5kZWQgPSAhdGhpcy5pc0V4cGFuZGVkOwogICAgfSwKICAgIGFkZEhlYXRlcjogZnVuY3Rpb24gYWRkSGVhdGVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIG5ld0hlYXRlciwgaGVhZGVycywgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ld0hlYXRlciA9IHsKICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMuaGVhdGVyX25hbWUsCiAgICAgICAgICAgICAgICAgIHBvd2VyOiBfdGhpcy5oZWF0ZXJfcG93ZXIsCiAgICAgICAgICAgICAgICAgIHJvb21JZDogX3RoaXMuaGVhdGVyX3Jvb20uaWQsCiAgICAgICAgICAgICAgICAgIHJvb206IF90aGlzLmhlYXRlcl9yb29tLAogICAgICAgICAgICAgICAgICBoZWF0ZXJTdGF0dXM6IF90aGlzLmhlYXRlcl9zdGF0dXMKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIiIuY29uY2F0KEFQSV9IT1NULCAiL2FwaS9oZWF0ZXJzIiksIG5ld0hlYXRlciwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgiaGVhdGVyLWFkZGVkIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/HeaterNew.vue"],"names":[],"mappings":";;AAoFA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,QAAT,QAAyB,WAAzB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,IAAI,EAAE,gBAAY;AAChB,WAAO;AACL,MAAA,UAAU,EAAE,KADP;AAEL,MAAA,WAAW,EAAE,EAFR;AAGL,MAAA,YAAY,EAAE,EAHT;AAIL,MAAA,aAAa,EAAE,KAJV;AAKL,MAAA,WAAW,EAAE,EALR;AAML,MAAA,KAAK,EAAE;AANF,KAAP;AAQD,GAXY;AAYb,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACc,KAAK,CAAC,GAAN,WAAa,QAAb,gBADd;;AAAA;AACH,cAAA,QADG;AAEH,cAAA,KAFG,GAEK,QAAQ,CAAC,IAFd;AAGP,mBAAK,KAAL,GAAa,KAAb;AACA,mBAAK,WAAL,GAAmB,KAAK,CAAC,CAAD,CAAxB;;AAJO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KAZM;AAkBb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACQ;AACb,WAAK,UAAL,GAAkB,CAAC,KAAK,UAAxB;AACD,KAHM;AAID,IAAA,SAJC,uBAIW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ,gBAAA,SADY,GACA;AACd,kBAAA,IAAI,EAAE,KAAI,CAAC,WADG;AAEd,kBAAA,KAAK,EAAE,KAAI,CAAC,YAFE;AAGd,kBAAA,MAAM,EAAE,KAAI,CAAC,WAAL,CAAiB,EAHX;AAId,kBAAA,IAAI,EAAE,KAAI,CAAC,WAJG;AAKd,kBAAA,YAAY,EAAE,KAAI,CAAC;AALL,iBADA;AAQZ,gBAAA,OARY,GAQF;AACZ,kCAAgB;AADJ,iBARE;AAAA;AAAA,uBAWK,KAAK,CAAC,IAAN,WAAc,QAAd,mBAAsC,SAAtC,EAAiD;AACpE,kBAAA,OAAO,EAAP;AADoE,iBAAjD,CAXL;;AAAA;AAWZ,gBAAA,QAXY;;AAchB,gBAAA,KAAI,CAAC,KAAL,CAAW,cAAX,EAA2B,QAAQ,CAAC,IAApC;;AAdgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAejB;AAnBM;AAlBI,CAAf","sourcesContent":["<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h2 class=\"mb-0\">\n        <button\n          class=\"btn btn-block text-left d-flex\"\n          type=\"button\"\n          @click=\"toggleExpand\"\n        >\n          <div class=\"mr-2 text-primary\">Create New Heater</div>\n          <div class=\"expand-button ml-auto text-primary\">\n            {{ isExpanded ? \"&#9660;\" : \"&#9658;\" }}\n          </div>\n        </button>\n      </h2>\n    </div>\n\n    <template class=\"collapse show\" v-if=\"isExpanded\">\n      <form class=\"p-4\">\n        <div class=\"form-group row\">\n          <label for=\"heater_name\" class=\"col-sm-4 col-form-label\">Heater Name: </label>\n          <div class=\"col-sm-8\">\n            <input\n              v-model=\"heater_name\"\n              type=\"text\"\n              class=\"form-control\"\n              name=\"heater_name\"\n              id=\"heater_name\"\n              placeholder=\"Main Heater\"\n            />\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"heater_power\" class=\"col-sm-4 col-form-label\">Heater Power: </label>\n          <div class=\"col-sm-8\">\n            <input\n              v-model=\"heater_power\"\n              type=\"text\"\n              class=\"form-control\"\n              name=\"heater_power\"\n              id=\"heater_power\"\n              placeholder=\"2000\"\n            />\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"heater_status\" class=\"col-sm-4 col-form-label\">Heater Status: </label>\n          <div class=\"col-sm-8\">\n            <select\n              v-model=\"heater_status\"\n              class=\"form-control\"\n              id=\"heater_status\"\n              name=\"heater_status\"\n            >\n              <option value=\"OFF\">OFF</option>\n              <option value=\"ON\">ON</option>\n            </select>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"heater_room\" class=\"col-sm-4 col-form-label\">Heater Room: </label>\n          <div class=\"col-sm-8\">\n            <select\n              v-model=\"heater_room\"\n              class=\"form-control\"\n              id=\"heater_room\"\n              name=\"heater_room\"\n            >\n              <option v-for=\"room in rooms\" v-bind:value=\"room\">\n                {{ room.name }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"addHeater\">\n          Create Heater\n        </button>\n      </form>\n    </template>\n  </div>\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport { API_HOST } from \"../config\";\n\nexport default {\n  name: \"HeaterNew\",\n  data: function () {\n    return {\n      isExpanded: false,\n      heater_name: \"\",\n      heater_power: \"\",\n      heater_status: \"OFF\",\n      heater_room: \"\",\n      rooms: [],\n    };\n  },\n  created: async function () {\n    let response = await axios.get(`${API_HOST}/api/rooms`);\n    let rooms = response.data;\n    this.rooms = rooms;\n    this.heater_room = rooms[0];\n  },\n  methods: {\n    toggleExpand() {\n      this.isExpanded = !this.isExpanded;\n    },\n    async addHeater() {\n      let newHeater = {\n        name: this.heater_name,\n        power: this.heater_power,\n        roomId: this.heater_room.id,\n        room: this.heater_room,\n        heaterStatus: this.heater_status,\n      };\n      let headers = {\n        \"Content-Type\": \"application/json\",\n      };\n      let response = await axios.post(`${API_HOST}/api/heaters`, newHeater, {\n        headers,\n      });\n      this.$emit(\"heater-added\", response.data);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.open-status {\n  .icon {\n    position: relative;\n  }\n\n  &.open {\n    color: #198754;\n    .icon {\n      font-size: 12px;\n      top: -2px;\n    }\n  }\n\n  &.closed {\n    color: #dc3545;\n  }\n}\n\n.heater {\n  .top-row {\n    cursor: pointer;\n  }\n  \n}\n</style>\n"],"sourceRoot":""}]}