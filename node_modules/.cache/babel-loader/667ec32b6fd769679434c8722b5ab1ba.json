{"remainingRequest":"/Users/sathish.bowatta/Documents/Faircorp_UI-master/node_modules/babel-loader/lib/index.js!/Users/sathish.bowatta/Documents/Faircorp_UI-master/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sathish.bowatta/Documents/Faircorp_UI-master/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/sathish.bowatta/Documents/Faircorp_UI-master/src/components/RoomNew.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/sathish.bowatta/Documents/Faircorp_UI-master/src/components/RoomNew.vue","mtime":1667239451000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_UI-master/babel.config.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_UI-master/node_modules/cache-loader/dist/cjs.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_UI-master/node_modules/babel-loader/lib/index.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_UI-master/node_modules/cache-loader/dist/cjs.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_UI-master/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1640706934000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zYXRoaXNoLmJvd2F0dGEvRG9jdW1lbnRzL0ZhaXJjb3JwX1VJLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgQVBJX0hPU1QgfSBmcm9tICIuLi9jb25maWciOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJvb21OZXciLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0V4cGFuZGVkOiBmYWxzZSwKICAgICAgcm9vbV9uYW1lOiAiIiwKICAgICAgcm9vbV9idWlsZGluZzogIiIsCiAgICAgIHJvb21fY3VycmVudF90ZW1wZXJhdHVyZTogIiIsCiAgICAgIHJvb21fdGFyZ2V0X3RlbXBlcmF0dXJlOiAiIiwKICAgICAgcm9vbV9mbG9vcjogIiIsCiAgICAgIGJ1aWxkaW5nczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NyZWF0ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXNwb25zZSwgYnVpbGRpbmdzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQoQVBJX0hPU1QsICIvYXBpL2J1aWxkaW5ncyIpKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgYnVpbGRpbmdzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB0aGlzLmJ1aWxkaW5ncyA9IGJ1aWxkaW5nczsKICAgICAgICAgICAgICB0aGlzLnJvb21fYnVpbGRpbmcgPSBidWlsZGluZ3NbMF07CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHJldHVybiBfY3JlYXRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBjcmVhdGVkOwogIH0oKSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVFeHBhbmQ6IGZ1bmN0aW9uIHRvZ2dsZUV4cGFuZCgpIHsKICAgICAgdGhpcy5pc0V4cGFuZGVkID0gIXRoaXMuaXNFeHBhbmRlZDsKICAgIH0sCiAgICBhZGRSb29tOiBmdW5jdGlvbiBhZGRSb29tKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIG5ld1Jvb20sIGhlYWRlcnMsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXdSb29tID0gewogICAgICAgICAgICAgICAgICBuYW1lOiBfdGhpcy5yb29tX25hbWUsCiAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nSWQ6IF90aGlzLnJvb21fYnVpbGRpbmcuaWQsCiAgICAgICAgICAgICAgICAgIGN1cnJlbnRUZW1wZXJhdHVyZTogX3RoaXMucm9vbV9jdXJyZW50X3RlbXBlcmF0dXJlLAogICAgICAgICAgICAgICAgICB0YXJnZXRUZW1wZXJhdHVyZTogX3RoaXMucm9vbV90YXJnZXRfdGVtcGVyYXR1cmUsCiAgICAgICAgICAgICAgICAgIGZsb29yOiBfdGhpcy5yb29tX2Zsb29yCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaGVhZGVycyA9IHsKICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChBUElfSE9TVCwgIi9hcGkvcm9vbXMvIiksIG5ld1Jvb20sIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInJvb20tYWRkZWQiLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/sathish.bowatta/Documents/Faircorp_UI-master/src/components/RoomNew.vue"],"names":[],"mappings":";;AAsFA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,QAAT,QAAyB,WAAzB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,IAAI,EAAE,gBAAY;AAChB,WAAO;AACL,MAAA,UAAU,EAAE,KADP;AAEL,MAAA,SAAS,EAAE,EAFN;AAGL,MAAA,aAAa,EAAE,EAHV;AAIL,MAAA,wBAAwB,EAAE,EAJrB;AAKL,MAAA,uBAAuB,EAAE,EALpB;AAML,MAAA,UAAU,EAAE,EANP;AAOL,MAAA,SAAS,EAAE;AAPN,KAAP;AASD,GAZY;AAab,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACc,KAAK,CAAC,GAAN,WAAa,QAAb,oBADd;;AAAA;AACH,cAAA,QADG;AAEH,cAAA,SAFG,GAES,QAAQ,CAAC,IAFlB;AAGP,mBAAK,SAAL,GAAiB,SAAjB;AACA,mBAAK,aAAL,GAAqB,SAAS,CAAC,CAAD,CAA9B;;AAJO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KAbM;AAmBb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACQ;AACb,WAAK,UAAL,GAAkB,CAAC,KAAK,UAAxB;AACD,KAHM;AAID,IAAA,OAJC,qBAIS;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACV,gBAAA,OADU,GACA;AACZ,kBAAA,IAAI,EAAE,KAAI,CAAC,SADC;AAEZ,kBAAA,UAAU,EAAE,KAAI,CAAC,aAAL,CAAmB,EAFnB;AAGZ,kBAAA,kBAAkB,EAAE,KAAI,CAAC,wBAHb;AAIZ,kBAAA,iBAAiB,EAAE,KAAI,CAAC,uBAJZ;AAKZ,kBAAA,KAAK,EAAE,KAAI,CAAC;AALA,iBADA;AAQV,gBAAA,OARU,GAQA;AACZ,kCAAgB;AADJ,iBARA;AAAA;AAAA,uBAWO,KAAK,CAAC,IAAN,WAAc,QAAd,kBAAqC,OAArC,EAA8C;AACjE,kBAAA,OAAO,EAAP;AADiE,iBAA9C,CAXP;;AAAA;AAWV,gBAAA,QAXU;;AAcd,gBAAA,KAAI,CAAC,KAAL,CAAW,YAAX,EAAyB,QAAQ,CAAC,IAAlC;;AAdc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAef;AAnBM;AAnBI,CAAf","sourcesContent":["<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <h2 class=\"mb-0\">\n        <button\n          class=\"btn btn-link btn-block text-left d-flex\"\n          type=\"button\"\n          @click=\"toggleExpand\"\n        >\n          <div class=\"mr-2\">Create New Room</div>\n          <div class=\"expand-button ml-auto\">\n            {{ isExpanded ? \"&#9660;\" : \"&#9658;\" }}\n          </div>\n        </button>\n      </h2>\n    </div>\n\n    <template class=\"collapse show\" v-if=\"isExpanded\">\n      <form class=\"p-4\">\n        <div class=\"form-group\">\n          <label for=\"room_name\">Room Name: </label>\n          <input\n            class=\"form-control\"\n                v-model=\"room_name\"\n                type=\"text\"\n                id=\"room_name\"\n                name=\"room_name\"\n            placeholder=\"room\"\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"room_building\">Room building: </label>\n          <select\n            class=\"form-control\"\n                v-model=\"room_building\"\n                id=\"room_building\"\n                name=\"room_building\"\n          >\n                <option v-for=\"building in buildings\" v-bind:value=\"building\">\n                  {{ building.name }}\n                </option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"room_current_temperature\">Room Current Temperature:\n              </label>\n          <input\n            class=\"form-control\"\n                type=\"number\"\n                v-model=\"room_current_temperature\"\n                id=\"room_current_temperature\"\n                name=\"room_current_temperature\"\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"room_target_temperature\"\n                >Room Target Temperature:\n              </label>\n          <input\n            class=\"form-control\"\n                type=\"number\"\n                v-model=\"room_target_temperature\"\n                id=\"room_target_temperature\"\n                name=\"room_target_temperature\"\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"room_floor\">Room Floor: </label>\n          <input\n            class=\"form-control\"\n                type=\"number\"\n                v-model=\"room_floor\"\n                id=\"room_floor\"\n                name=\"room_floor\"\n          />\n        </div>\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"addRoom\">\n          Create Room\n        </button>\n      </form>\n    </template>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { API_HOST } from \"../config\";\n\nexport default {\n  name: \"RoomNew\",\n  data: function () {\n    return {\n      isExpanded: false,\n      room_name: \"\",\n      room_building: \"\",\n      room_current_temperature: \"\",\n      room_target_temperature: \"\",\n      room_floor: \"\",\n      buildings: [],\n    };\n  },\n  created: async function () {\n    let response = await axios.get(`${API_HOST}/api/buildings`);\n    let buildings = response.data;\n    this.buildings = buildings;\n    this.room_building = buildings[0];\n  },\n  methods: {\n    toggleExpand() {\n      this.isExpanded = !this.isExpanded;\n    },\n    async addRoom() {\n      let newRoom = {\n        name: this.room_name,\n        buildingId: this.room_building.id,\n        currentTemperature: this.room_current_temperature,\n        targetTemperature: this.room_target_temperature,\n        floor: this.room_floor,\n      };\n      let headers = {\n        \"Content-Type\": \"application/json\",\n      };\n      let response = await axios.post(`${API_HOST}/api/rooms/`, newRoom, {\n        headers,\n      });\n      this.$emit(\"room-added\", response.data);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.open-status {\n  .icon {\n    position: relative;\n  }\n\n  &.open {\n    color: #198754;\n    .icon {\n      font-size: 12px;\n      top: -3px;\n    }\n  }\n\n  &.closed {\n    color: #dc3545;\n  }\n}\n\n.room {\n  .top-row {\n    cursor: pointer;\n  }\n}\n</style>\n"],"sourceRoot":""}]}