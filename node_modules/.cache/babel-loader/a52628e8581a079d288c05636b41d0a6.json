{"remainingRequest":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/babel-loader/lib/index.js!/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/HeatersList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/HeatersList.vue","mtime":1667310293000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/babel.config.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/babel-loader/lib/index.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1640706934000},{"path":"/Users/sathish.bowatta/Documents/Faircorp_Frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1640706934000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zYXRoaXNoLmJvd2F0dGEvRG9jdW1lbnRzL0ZhaXJjb3JwX0Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgQVBJX0hPU1QgfSBmcm9tICcuLi9jb25maWcnOwppbXBvcnQgSGVhdGVyc0xpc3RJdGVtIGZyb20gJy4vSGVhdGVyc0xpc3RJdGVtJzsKaW1wb3J0IEhlYXRlck5ldyBmcm9tICcuL0hlYXRlck5ldy52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSGVhdGVyc0xpc3RJdGVtOiBIZWF0ZXJzTGlzdEl0ZW0sCiAgICBIZWF0ZXJOZXc6IEhlYXRlck5ldwogIH0sCiAgbmFtZTogJ0hlYXRlcnNMaXN0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLyogSW5pdGlhbGl6ZSBoZWF0ZXJzIHdpdGggYW4gZW1wdHkgYXJyYXksIHdoaWxlIHdhaXRpbmcgZm9yIGFjdHVhbCBkYXRhIHRvIGJlIHJldHJpZXZlZCBmcm9tIHRoZSBBUEkgKi8KICAgICAgaGVhdGVyczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2NyZWF0ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXNwb25zZSwgaGVhdGVyczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIiIuY29uY2F0KEFQSV9IT1NULCAiL2FwaS9oZWF0ZXJzIikpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBoZWF0ZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB0aGlzLmhlYXRlcnMgPSBoZWF0ZXJzOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICByZXR1cm4gX2NyZWF0ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gY3JlYXRlZDsKICB9KCksCiAgbWV0aG9kczogewogICAgdXBkYXRlSGVhdGVyOiBmdW5jdGlvbiB1cGRhdGVIZWF0ZXIobmV3SGVhdGVyKSB7CiAgICAgIC8qIEZpbmQgdGhlIHBsYWNlIG9mIGhlYXRlciBvYmplY3R3IGl0aCB0aGUgc2FtZSBJZCBpbiB0aGUgYXJyYXksIGFuZCByZXBsYWNlIGl0ICovCiAgICAgIHZhciBpbmRleCA9IHRoaXMuaGVhdGVycy5maW5kSW5kZXgoZnVuY3Rpb24gKGhlYXRlcikgewogICAgICAgIHJldHVybiBoZWF0ZXIuaWQgPT09IG5ld0hlYXRlci5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMuaGVhdGVycy5zcGxpY2UoaW5kZXgsIDEsIG5ld0hlYXRlcik7CiAgICB9LAogICAgZGVsZXRlSGVhdGVyOiBmdW5jdGlvbiBkZWxldGVIZWF0ZXIoaGVhdGVySWQpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5oZWF0ZXJzLmZpbmRJbmRleChmdW5jdGlvbiAoaGVhdGVyKSB7CiAgICAgICAgcmV0dXJuIGhlYXRlci5pZCA9PT0gaGVhdGVySWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLmhlYXRlcnMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIGFkZEhlYXRlcjogZnVuY3Rpb24gYWRkSGVhdGVyKG5ld0hlYXRlcikgewogICAgICB0aGlzLmhlYXRlcnMucHVzaChuZXdIZWF0ZXIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/sathish.bowatta/Documents/Faircorp_Frontend/src/components/HeatersList.vue"],"names":[],"mappings":";;;;AAmBA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAQ,QAAR,QAAuB,WAAvB;AACA,OAAO,eAAP,MAA4B,mBAA5B;AACA,OAAO,SAAP,MAAsB,iBAAtB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACR,IAAA,eAAe,EAAf,eADQ;AAER,IAAA,SAAQ,EAAR;AAFQ,GADC;AAKb,EAAA,IAAI,EAAE,aALO;AAMb,EAAA,IAAI,EAAE,gBAAW;AACf,WAAO;AACL;AACA,MAAA,OAAO,EAAE;AAFJ,KAAP;AAID,GAXY;AAYb,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACc,KAAK,CAAC,GAAN,WAAa,QAAb,kBADd;;AAAA;AACH,cAAA,QADG;AAEH,cAAA,OAFG,GAEO,QAAQ,CAAC,IAFhB;AAGP,mBAAK,OAAL,GAAe,OAAf;;AAHO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KAZM;AAiBb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,wBACM,SADN,EACiB;AACtB;AACA,UAAI,KAAI,GAAI,KAAK,OAAL,CAAa,SAAb,CAAuB,UAAA,MAAK;AAAA,eAAK,MAAM,CAAC,EAAP,KAAc,SAAS,CAAC,EAA7B;AAAA,OAA5B,CAAZ;AACA,WAAK,OAAL,CAAa,MAAb,CAAoB,KAApB,EAA2B,CAA3B,EAA8B,SAA9B;AACD,KALM;AAMP,IAAA,YANO,wBAMM,QANN,EAMgB;AACrB,UAAI,KAAI,GAAI,KAAK,OAAL,CAAa,SAAb,CAAuB,UAAA,MAAK;AAAA,eAAK,MAAM,CAAC,EAAP,KAAc,QAAnB;AAAA,OAA5B,CAAZ;;AACA,UAAI,KAAI,GAAI,CAAC,CAAb,EAAgB;AACrB,aAAK,OAAL,CAAa,MAAb,CAAoB,KAApB,EAA2B,CAA3B;AACK;AACD,KAXM;AAYL,IAAA,SAZK,qBAYK,SAZL,EAYgB;AAC1B,WAAK,OAAL,CAAa,IAAb,CAAkB,SAAlB;AACG;AAdO;AAjBI,CAAf","sourcesContent":["<template>\n  <div class=\"accordion\" id=\"accordion\">\n    <heaters-list-item \n      v-for=\"heater in heaters\"\n      :heater=\"heater\"\n      :key=\"heater.id\"  \n      @heater-updated=\"updateHeater\"\n      @heater-deleted=\"deleteHeater\"\n    >\n    </heaters-list-item>\n    <heater-new\n      @heater-added=\"addHeater\"\n    >\n    </heater-new>\n</div>\n</template>\n\n\n<script>\nimport axios from 'axios';\nimport {API_HOST} from '../config';\nimport HeatersListItem from './HeatersListItem';\nimport HeaterNew from './HeaterNew.vue';\n\nexport default {\n  components: {\n      HeatersListItem,\n      HeaterNew\n  },\n  name: 'HeatersList',\n  data: function() {\n    return {\n      /* Initialize heaters with an empty array, while waiting for actual data to be retrieved from the API */\n      heaters: []\n    }\n  },\n  created: async function() {\n    let response = await axios.get(`${API_HOST}/api/heaters`);\n    let heaters = response.data;\n    this.heaters = heaters;\n  },\n  methods: {\n    updateHeater(newHeater) {\n      /* Find the place of heater objectw ith the same Id in the array, and replace it */\n      let index = this.heaters.findIndex(heater => heater.id === newHeater.id);\n      this.heaters.splice(index, 1, newHeater);\n    },\n    deleteHeater(heaterId) {\n      let index = this.heaters.findIndex(heater => heater.id === heaterId);\n      if (index > -1) {\n\tthis.heaters.splice(index, 1);\n      }\n    },\n      addHeater(newHeater) {\n\tthis.heaters.push(newHeater);\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}