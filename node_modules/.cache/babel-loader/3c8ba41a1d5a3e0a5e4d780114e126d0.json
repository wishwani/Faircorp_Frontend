{"remainingRequest":"/Users/arjunmenon/Documents/faircorp-UI-Arjun/node_modules/babel-loader/lib/index.js!/Users/arjunmenon/Documents/faircorp-UI-Arjun/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/arjunmenon/Documents/faircorp-UI-Arjun/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/arjunmenon/Documents/faircorp-UI-Arjun/src/components/HeatersList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/arjunmenon/Documents/faircorp-UI-Arjun/src/components/HeatersList.vue","mtime":1640447728075},{"path":"/Users/arjunmenon/Documents/faircorp-UI-Arjun/babel.config.js","mtime":1610578841000},{"path":"/Users/arjunmenon/Documents/faircorp-UI-Arjun/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arjunmenon/Documents/faircorp-UI-Arjun/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/arjunmenon/Documents/faircorp-UI-Arjun/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arjunmenon/Documents/faircorp-UI-Arjun/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcmp1bm1lbm9uL0RvY3VtZW50cy9mYWlyY29ycC1VSS1Bcmp1bi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IEFQSV9IT1NUIH0gZnJvbSAnLi4vY29uZmlnJzsKaW1wb3J0IEhlYXRlcnNMaXN0SXRlbSBmcm9tICcuL0hlYXRlcnNMaXN0SXRlbSc7CmltcG9ydCBIZWF0ZXJOZXcgZnJvbSAnLi9IZWF0ZXJOZXcudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEhlYXRlcnNMaXN0SXRlbTogSGVhdGVyc0xpc3RJdGVtLAogICAgSGVhdGVyTmV3OiBIZWF0ZXJOZXcKICB9LAogIG5hbWU6ICdIZWF0ZXJzTGlzdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8qIEluaXRpYWxpemUgaGVhdGVycyB3aXRoIGFuIGVtcHR5IGFycmF5LCB3aGlsZSB3YWl0aW5nIGZvciBhY3R1YWwgZGF0YSB0byBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgQVBJICovCiAgICAgIGhlYXRlcnM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgdmFyIF9jcmVhdGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzcG9uc2UsIGhlYXRlcnM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChBUElfSE9TVCwgIi9oZWF0ZXIiKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGhlYXRlcnMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIHRoaXMuaGVhdGVycyA9IGhlYXRlcnM7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHJldHVybiBfY3JlYXRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBjcmVhdGVkOwogIH0oKSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVIZWF0ZXI6IGZ1bmN0aW9uIHVwZGF0ZUhlYXRlcihuZXdIZWF0ZXIpIHsKICAgICAgLyogRmluZCB0aGUgcGxhY2Ugb2YgaGVhdGVyIG9iamVjdHcgaXRoIHRoZSBzYW1lIElkIGluIHRoZSBhcnJheSwgYW5kIHJlcGxhY2UgaXQgKi8KICAgICAgdmFyIGluZGV4ID0gdGhpcy5oZWF0ZXJzLmZpbmRJbmRleChmdW5jdGlvbiAoaGVhdGVyKSB7CiAgICAgICAgcmV0dXJuIGhlYXRlci5pZCA9PT0gbmV3SGVhdGVyLmlkOwogICAgICB9KTsKICAgICAgdGhpcy5oZWF0ZXJzLnNwbGljZShpbmRleCwgMSwgbmV3SGVhdGVyKTsKICAgIH0sCiAgICBkZWxldGVIZWF0ZXI6IGZ1bmN0aW9uIGRlbGV0ZUhlYXRlcihoZWF0ZXJJZCkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmhlYXRlcnMuZmluZEluZGV4KGZ1bmN0aW9uIChoZWF0ZXIpIHsKICAgICAgICByZXR1cm4gaGVhdGVyLmlkID09PSBoZWF0ZXJJZDsKICAgICAgfSk7CgogICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgIHRoaXMuaGVhdGVycy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICB9LAogICAgYWRkSGVhdGVyOiBmdW5jdGlvbiBhZGRIZWF0ZXIobmV3SGVhdGVyKSB7CiAgICAgIHRoaXMuaGVhdGVycy5wdXNoKG5ld0hlYXRlcik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/arjunmenon/Documents/faircorp-UI-Arjun/src/components/HeatersList.vue"],"names":[],"mappings":";;;;AAmBA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAQ,QAAR,QAAuB,WAAvB;AACA,OAAO,eAAP,MAA4B,mBAA5B;AACA,OAAO,SAAP,MAAsB,iBAAtB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACR,IAAA,eAAe,EAAf,eADQ;AAER,IAAA,SAAQ,EAAR;AAFQ,GADC;AAKb,EAAA,IAAI,EAAE,aALO;AAMb,EAAA,IAAI,EAAE,gBAAW;AACf,WAAO;AACL;AACA,MAAA,OAAO,EAAE;AAFJ,KAAP;AAID,GAXY;AAYb,EAAA,OAAO;AAAA,2EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACc,KAAK,CAAC,GAAN,WAAa,QAAb,aADd;;AAAA;AACH,cAAA,QADG;AAEH,cAAA,OAFG,GAEO,QAAQ,CAAC,IAFhB;AAGP,mBAAK,OAAL,GAAe,OAAf;;AAHO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KAZM;AAiBb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,wBACM,SADN,EACiB;AACtB;AACA,UAAI,KAAI,GAAI,KAAK,OAAL,CAAa,SAAb,CAAuB,UAAA,MAAK;AAAA,eAAK,MAAM,CAAC,EAAP,KAAc,SAAS,CAAC,EAA7B;AAAA,OAA5B,CAAZ;AACA,WAAK,OAAL,CAAa,MAAb,CAAoB,KAApB,EAA2B,CAA3B,EAA8B,SAA9B;AACD,KALM;AAMP,IAAA,YANO,wBAMM,QANN,EAMgB;AACrB,UAAI,KAAI,GAAI,KAAK,OAAL,CAAa,SAAb,CAAuB,UAAA,MAAK;AAAA,eAAK,MAAM,CAAC,EAAP,KAAc,QAAnB;AAAA,OAA5B,CAAZ;;AACA,UAAI,KAAI,GAAI,CAAC,CAAb,EAAgB;AACrB,aAAK,OAAL,CAAa,MAAb,CAAoB,KAApB,EAA2B,CAA3B;AACK;AACD,KAXM;AAYL,IAAA,SAZK,qBAYK,SAZL,EAYgB;AAC1B,WAAK,OAAL,CAAa,IAAb,CAAkB,SAAlB;AACG;AAdO;AAjBI,CAAf","sourcesContent":["<template>\n  <div class=\"accordion\" id=\"accordion\">\n    <heaters-list-item \n      v-for=\"heater in heaters\"\n      :heater=\"heater\"\n      :key=\"heater.id\"  \n      @heater-updated=\"updateHeater\"\n      @heater-deleted=\"deleteHeater\"\n    >\n    </heaters-list-item>\n    <heater-new\n      @heater-added=\"addHeater\"\n    >\n    </heater-new>\n</div>\n</template>\n\n\n<script>\nimport axios from 'axios';\nimport {API_HOST} from '../config';\nimport HeatersListItem from './HeatersListItem';\nimport HeaterNew from './HeaterNew.vue';\n\nexport default {\n  components: {\n      HeatersListItem,\n      HeaterNew\n  },\n  name: 'HeatersList',\n  data: function() {\n    return {\n      /* Initialize heaters with an empty array, while waiting for actual data to be retrieved from the API */\n      heaters: []\n    }\n  },\n  created: async function() {\n    let response = await axios.get(`${API_HOST}/heater`);\n    let heaters = response.data;\n    this.heaters = heaters;\n  },\n  methods: {\n    updateHeater(newHeater) {\n      /* Find the place of heater objectw ith the same Id in the array, and replace it */\n      let index = this.heaters.findIndex(heater => heater.id === newHeater.id);\n      this.heaters.splice(index, 1, newHeater);\n    },\n    deleteHeater(heaterId) {\n      let index = this.heaters.findIndex(heater => heater.id === heaterId);\n      if (index > -1) {\n\tthis.heaters.splice(index, 1);\n      }\n    },\n      addHeater(newHeater) {\n\tthis.heaters.push(newHeater);\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}